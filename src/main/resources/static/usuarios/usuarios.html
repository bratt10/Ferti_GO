<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FertiGo | Usuarios</title>
  <link rel="stylesheet" href="usuarios.css">
  <script defer src="usuarios.js"></script>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <h2 class="logo">ðŸŒ± Ferti-Go</h2>
    <nav>
      <a href="../dashboard/dashboard.html">ðŸ“Š Dashboard</a>
      <a href="../usuarios/usuarios.html" class="active">ðŸ‘¤ Usuarios</a>
      <a href="../fertilizantes/fertilizantes.html">ðŸ§ª Fertilizantes</a>
      <a href="../pedidos/pedidos.html">ðŸ“¦ Pedidos</a>
      <a href="../guias/guias.html">ðŸ“‘ Generar GuÃ­a</a>
      <a href="../novedades/novedades.html">ðŸ“° Novedades</a>
      <a href="../config/config.html">âš™ Configuraciones</a>
      <a href="../manual/manual.html">ðŸ“˜ Manual</a>
    </nav>
    <button class="logout" onclick="cerrarSesion()">Cerrar SesiÃ³n</button>
  </aside>

  <!-- Main -->
  <main class="main-content">
    <header>
      <h1>GestiÃ³n de Usuarios</h1>
      <p>Administra los capataces registrados en el sistema.</p>
    </header>

    <!-- Tarjetas resumen -->
    <section class="cards">
      <div class="card">
        <h3>Usuarios Totales</h3>
        <p class="value" id="totalUsuarios">0</p>
      </div>
      <div class="card">
        <h3>Capataces</h3>
        <p class="value" id="totalCapataces">0</p>
      </div>
    </section>

    <!-- Tabla de usuarios -->
    <section class="tabla-container">
      <div class="tabla-header">
        <h2>Lista de Capataces</h2>
        <button id="btnNuevoUsuario" class="btn-agregar">âž• Agregar Capataz</button>
      </div>

      <!-- BUSCADOR -->
      <div class="buscador-container">
        <input 
          type="text" 
          id="buscadorUsuarios" 
          placeholder="ðŸ” Buscar por nombre, email, finca o ubicaciÃ³n..."
          autocomplete="off"
        >
        <span id="resultadosBusqueda" class="resultados-texto"></span>
      </div>

      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Finca</th>
            <th>UbicaciÃ³n</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tablaUsuarios"></tbody>
      </table>
    </section>
  </main>

  <!-- Modal -->
  <div id="modalUsuario" class="modal" style="display:none;">
    <div class="modal-content">
      <span id="cerrarModal" class="cerrar">&times;</span>
      <h2 id="modalTitulo">Agregar Capataz</h2>
      <form id="formUsuario">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" required>

        <label for="email">Email:</label>
        <input type="email" id="email" required>

        <label for="contraseÃ±a">ContraseÃ±a:</label>
        <input type="password" id="contraseÃ±a" required>

        <label for="fincaNombre">Nombre Finca:</label>
        <input type="text" id="fincaNombre" required>

        <label for="fincaUbicacion">UbicaciÃ³n:</label>
        <input type="text" id="fincaUbicacion" required>

        <label for="fincaEstado">Estado:</label>
        <select id="fincaEstado">
          <option value="ACTIVA">ACTIVA</option>
          <option value="INACTIVA">INACTIVA</option>
        </select>

        <div class="modal-buttons">
          <button type="submit" class="btn-agregar">Guardar</button>
        </div>
      </form>
    </div>
  </div>
  <script src="../i18n.js"></script>
</body>
</html>